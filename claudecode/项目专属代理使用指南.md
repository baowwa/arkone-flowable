# arkone-flowable 项目专属代理使用指南

## 项目代理配置

本项目已在 `.claude/agents/` 目录下配置了 7 个专属中文代理，仅在本项目中生效：

- **业务分析师** - 需求分析、流程优化、业务价值评估
- **产品经理** - 功能规划、优先级排序、产品战略
- **UI设计师** - 界面设计、交互模式、设计系统
- **架构审查师** - 系统架构、技术选型、架构审查
- **后端开发** - API 实现、数据库设计、微服务开发
- **前端开发** - UI 实现、组件开发、前端集成
- **测试工程师** - 测试策略、质量保证、自动化测试

## 项目级 vs 全局代理

| 类型 | 位置 | 作用范围 | 优先级 |
|------|------|---------|--------|
| 项目代理 | `.claude/agents/` | 仅 arkone-flowable 项目 | **高** |
| 全局代理 | `~/.claude/agents/` | 所有项目 | 低 |

**重要**：项目级代理优先级更高，会覆盖同名的全局代理。

## 仅在本项目使用的方式

### 方式 1：在项目目录中使用

```bash
# 1. 进入项目目录
cd /Users/bao/Documents/project/personal/arkone/arkone-flowable

# 2. 启动 Claude Code（确保在项目目录中）
claude

# 3. 使用代理（只要在项目目录中，就会自动使用项目代理）
"让业务分析师分析 Flowable 工作流的审批需求"
"让架构审查师审查当前的流程引擎架构"
"让后端开发实现流程监控 API"
```

### 方式 2：多角色协作

```bash
# 在项目目录中
"我要为 Flowable 添加流程监控功能，请协调：
- 业务分析师：分析监控需求
- 产品经理：定义功能优先级
- UI设计师：设计监控仪表盘
- 架构审查师：设计数据采集架构
- 后端开发：实现监控 API
- 前端开发：实现监控界面"
```

### 方式 3：分阶段调用

```bash
# 阶段 1：需求分析
"让业务分析师分析 Flowable 流程审批的业务需求"

# 阶段 2：产品设计
"基于上述分析，让产品经理制定审批功能的产品方案"

# 阶段 3：架构设计
"让架构审查师设计审批流程的技术架构"

# 阶段 4：UI 设计
"让UI设计师设计审批界面和交互流程"

# 阶段 5：后端开发
"让后端开发实现审批 API 和流程引擎集成"

# 阶段 6：前端开发
"让前端开发实现审批界面组件"
```

## 验证代理是否生效

```bash
# 在项目目录中
cd /Users/bao/Documents/project/personal/arkone/arkone-flowable

# 查看项目代理
ls -1 .claude/agents/

# 输出应该显示：
# UI设计师.md
# 业务分析师.md
# 产品经理.md
# 前端开发.md
# 后端开发.md
# 架构审查师.md
# 测试工程师.md
```

## 针对 Flowable 项目的典型工作流

### 场景 1：新增流程功能

```bash
"我要为 Flowable 添加多级审批功能：
1. 业务分析师 - 分析多级审批的业务场景和规则
2. 产品经理 - 定义审批层级和权限模型
3. 架构审查师 - 设计审批流程引擎集成方案
4. 后端开发 - 实现审批 API 和流程定义
5. UI设计师 - 设计审批界面和流程可视化
6. 前端开发 - 实现审批操作界面
7. 测试工程师 - 设计测试用例并执行质量验证"
```

### 场景 2：性能优化

```bash
"Flowable 流程查询性能较慢：
1. 业务分析师 - 分析当前查询场景和性能瓶颈
2. 架构审查师 - 审查数据库架构和查询模式
3. 后端开发 - 优化查询逻辑和添加缓存"
```

### 场景 3：流程监控

```bash
"需要实时监控 Flowable 流程执行状态：
1. 业务分析师 - 定义监控指标和告警规则
2. 产品经理 - 规划监控面板功能
3. UI设计师 - 设计实时监控仪表盘
4. 架构审查师 - 设计监控数据采集架构
5. 后端开发 - 实现监控数据采集和 API
6. 前端开发 - 实现实时监控界面
7. 测试工程师 - 测试监控功能和性能验证"
```

## 项目特定优势

1. **中文交流**：所有代理都使用中文，沟通更自然
2. **项目隔离**：只在 arkone-flowable 项目中生效，不影响其他项目
3. **可定制**：可以根据项目需求修改代理配置
4. **优先级高**：覆盖全局代理，确保项目特定行为

## 修改代理配置

如果需要为 Flowable 项目定制代理行为：

```bash
# 编辑项目代理
vim .claude/agents/后端开发.md

# 例如：添加 Flowable 特定的编码规范
# 在文件中添加：
# Flowable 项目特定要求：
# - 使用 Flowable API 6.x
# - 遵循 BPMN 2.0 规范
# - 流程定义使用 XML 格式
# - 数据库使用 PostgreSQL
```

## 注意事项

1. **必须在项目目录中**：只有在 `/Users/bao/Documents/project/personal/arkone/arkone-flowable` 目录下使用 Claude Code 时，这些代理才会生效

2. **不影响其他项目**：切换到其他项目目录时，会使用该项目的代理或全局代理

3. **自动识别**：Claude Code 会根据对话内容自动调用合适的代理

4. **显式调用**：使用 "让 [代理名] 做..." 可以明确指定使用哪个代理

## 快速参考

```bash
# 业务分析
"让业务分析师分析 [Flowable 需求]"

# 产品规划
"让产品经理规划 [功能] 的实现优先级"

# UI 设计
"让UI设计师设计 [Flowable 界面]"

# 架构审查
"让架构审查师审查 [流程引擎架构]"

# 后端开发
"让后端开发实现 [Flowable API]"

# 前端开发
"让前端开发实现 [流程管理界面]"

# 测试验证
"让测试工程师设计 [功能] 的测试用例并执行测试"
```

## 获取帮助

```bash
# 查看代理定义
cat .claude/agents/业务分析师.md

# 在 Claude Code 中打开代理管理器
/agents

# 查看所有项目代理
ls -1 .claude/agents/
```

---

**提示**：这些代理专为 arkone-flowable 项目设计，离开项目目录后将不再生效。如果需要在其他项目中使用，请将代理文件复制到对应项目的 `.claude/agents/` 目录。
